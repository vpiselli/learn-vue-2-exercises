<!DOCTYPE html>
<html lang="en">
<head>
    <title>Document</title>
    <style>
        .color-red { color: red; }
        .color-blue { color: blue; }
        .is-loading { background: red; }
    </style>
</head>
<body>

    <div id="root">

        <!-- Vue elements here -->
        <h1>

            <!-- {{ message.split('').reverse().join('') }} -->
            {{ reverseMessage }}

        </h1>

        <ul>
            <!-- <li v-for="task in tasks" v-if="task.completed" v-text="task.description"></li> -->
            <li v-for="task in tasks" v-text="task.description"></li>
        </ul>

        <h2>Incomplete Tasks</h2>

        <ul>
            <li v-for="task in incompleteTasks">
                {{ task.description }}
                <a href="#" @click="completeTask(task)">Done</a>
            </li>
        </ul>

        <h2>Completed Tasks</h2>

        <ul>
            <li v-for="task in completedTasks">
                {{ task.description }}
                <a href="#" @click="reOpenTask(task)">Re-open</a>
            </li>
        </ul>
        
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>

    <script>

        var app = new Vue({
            el: '#root',
            data: {

                //
                message: 'All Tasks',
                tasks: [

                    { description: 'Go to the store', completed: true },

                    { description: 'Finish screencast', completed: false },

                    { description: 'Make donation', completed: false },

                    { description: 'Clear inbox', completed: false },

                    { description: 'Make dinner', completed: false },

                    { description: 'Clean room', completed: true }
                
                ],

            },

            computed: {

                reverseMessage() {
                
                    return this.message.split('').reverse('').join('')
               
                },

                incompleteTasks() {

                    return this.tasks.filter(task => ! task.completed);

                    // //This syntax is equivalent to:
                    // this.tasks.filter(function(task) {
                        
                    //     return ! task.completed;
                    
                    // });

                }, 

                completedTasks() {

                    return this.tasks.filter(task => task.completed)

                },

            },

            methods: {
                completeTask(task) {
                    task.completed = true;
                },
                reOpenTask(task) {
                    task.completed = false;
                }
            }

        });

    </script>

</body>
</html>